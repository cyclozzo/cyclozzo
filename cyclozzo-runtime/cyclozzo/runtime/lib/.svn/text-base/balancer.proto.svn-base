message BLNS_Error
{
	required int32 error_code = 1;
	optional string error_message = 2;
}

message BLNS_ListInstances
{
	optional int32 limit = 1;
}

message BLNS_ListInstancesResult
{
	repeated string instances = 1;
	optional BLNS_Error error = 99;
}

message BLNS_AddInstance
{
	required string inst_key = 1;
	required string server_label = 2;
	required string inst_ip_addr = 3;
	required int32 inst_port = 4;
	required string app_key = 5;
	required string public_address = 6;
}

message BLNS_AddInstanceResult
{
	required int32 op_code = 1;
	optional BLNS_Error error = 99;
}

message BLNS_RemoveInstance
{
	required string inst_key = 1;
}

message BLNS_RemoveInstanceResult
{
	required int32 op_code = 1;
	optional BLNS_Error error = 99;
}

message BLNS_DisableApplication
{
	required string app_key = 1;
}

message BLNS_DisableApplicationResult
{
	required int32 op_code = 1;
	optional BLNS_Error error = 99;
}

message BLNS_EnableApplication
{
	required string app_key = 1;
}

message BLNS_EnableApplicationResult
{
	required int32 op_code = 1;
	optional BLNS_Error error = 99;
}

service Cyclozzo_Balancer
{
	rpc list_instances(BLNS_ListInstances)returns(BLNS_ListInstancesResult);
	rpc add_instance(BLNS_AddInstance)returns(BLNS_AddInstanceResult);	
	rpc remove_instance(BLNS_RemoveInstance)returns(BLNS_RemoveInstanceResult);
	rpc disable_application(BLNS_DisableApplication)returns(BLNS_DisableApplicationResult);
	rpc enable_application(BLNS_EnableApplication)returns(BLNS_EnableApplicationResult);
}